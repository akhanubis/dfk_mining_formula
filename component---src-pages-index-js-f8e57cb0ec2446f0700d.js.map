{"version":3,"sources":["webpack://dfk_mining_formula/./src/pages/index.js"],"names":["Home","hasMatchingProficiencyType","geneBonus","minLockedRatio","STR","END","minSkl","lockedJEWEL","lockedRatio","useState","str","setStr","end","setEnd","mining","setMining","profession","setProfession","balance","setBalance","type","value","onChange","e","target","placeholder","map","p","key","selected","parseInt","Math","floor","parseFloat","Number"],"mappings":"wLAEe,SAASA,IAAQ,IActBC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EArBqB,GACPC,cAAS,GAAxBC,EADsB,KACjBC,EADiB,QAEPF,cAAS,GAAxBG,EAFsB,KAEjBC,EAFiB,QAGDJ,cAAS,GAA9BK,EAHsB,KAGdC,EAHc,QAION,cAAS,UAAtCO,EAJsB,KAIVC,EAJU,QAKCR,cAAS,QAAhCS,EALsB,KAKbC,EALa,KAmC7B,OACE,2BACE,wDACA,4BACE,2BACE,oCACA,yBAAOC,KAAK,OAAOC,MAAOX,EAAKY,SAZrB,SAAAC,GAAC,OAAIZ,EAAOY,EAAEC,OAAOH,QAYqBI,YAAY,SAElE,2BACE,oCACA,yBAAOL,KAAK,OAAOC,MAAOT,EAAKU,SAfrB,SAAAC,GAAC,OAAIV,EAAOU,EAAEC,OAAOH,QAeqBI,YAAY,SAElE,2BACE,uCACA,yBAAOL,KAAK,OAAOC,MAAOP,EAAQQ,SAlBrB,SAAAC,GAAC,OAAIR,EAAUQ,EAAEC,OAAOH,QAkBqBI,YAAY,YAExE,2BACE,2CACA,0BAAQH,SArBS,SAAAC,GAAC,OAAIN,EAAcM,EAAEC,OAAOH,SAsB1C,CAAC,UAAW,WAAY,YAAa,UAAUK,KAAI,SAAAC,GAAC,OAAI,0BAAQC,IAAKD,EAAGE,SAAUb,IAAeW,GAAIA,QAG1G,2BACE,6CACA,yBAAOP,KAAK,OAAOC,MAAOH,EAASI,SA1BrB,SAAAC,GAAC,OAAIJ,EAAWI,EAAEC,OAAOH,QA0BqBI,YAAY,mBAI5E,2BACA,2BA5BF,2BArBMvB,GADAD,EAAgD,WAD/Be,GAEwB,EAAI,EAC7Cb,EAAiBF,EAA6B,OAAS,IACvDG,EAAM0B,SAASpB,GACfL,EAAMyB,SAASlB,GACfN,EAASyB,KAAKC,MAAMC,WAAWnB,IAC/BP,EAAc2B,OAAOhB,GAIP,KAdP,IACC,QAasBd,EAAMC,GAZ5B,MAY2CC,KAHnDE,EACJD,EAbgB,IAaU,IAAO,IAAML,EAbvB,KAaqC,IAAO,IAAMA,GAA0BK,GACtDJ,EAAiBA,EAAiBK,IAa1E","file":"component---src-pages-index-js-f8e57cb0ec2446f0700d.js","sourcesContent":["import React, { useState } from \"react\"\r\n\r\nexport default function Home() {\r\n  const [str, setStr] = useState(0)\r\n  const [end, setEnd] = useState(0)\r\n  const [mining, setMining] = useState(0)\r\n  const [profession, setProfession] = useState('mining')\r\n  const [balance, setBalance] = useState('1000')\r\n  \r\n  /* taken from DFK UI */\r\n  const calculateMaxJEWELUnlockRate = () => {\r\n    const minLocked = 20000\r\n    const base = 0.25\r\n    const sRate = 0.000625\r\n    const mRate = 0.0025\r\n    const heroProfession = profession\r\n    const hasMatchingProficiencyType = heroProfession === 'mining'\r\n    const geneBonus = hasMatchingProficiencyType ? 1 : 0\r\n    const minLockedRatio = hasMatchingProficiencyType ? 833.33 : 1000\r\n    const STR = parseInt(str)\r\n    const END = parseInt(end)\r\n    const minSkl = Math.floor(parseFloat(mining))\r\n    const lockedJEWEL = Number(balance)\r\n    const lockedRatio =\r\n      lockedJEWEL > minLocked ? 1000 - 166 * geneBonus : ((1000 - 166 * geneBonus) * minLocked) / lockedJEWEL\r\n    const cappedLockedRatio = lockedRatio < minLockedRatio ? minLockedRatio : lockedRatio\r\n    const unlockRate = (1000 * (base + (STR + END) * sRate + minSkl * mRate)) / cappedLockedRatio\r\n  \r\n    return unlockRate\r\n  }\r\n\r\n  const handleStr = e => setStr(e.target.value)\r\n  const handleEnd = e => setEnd(e.target.value)\r\n  const handleMining = e => setMining(e.target.value)\r\n  const handleProfession = e => setProfession(e.target.value)\r\n  const handleBalance = e => setBalance(e.target.value)\r\n\r\n  return (\r\n    <div>\r\n      <h1>DFK lead miner unlock rate</h1>\r\n      <form>\r\n        <div>\r\n          <label>STR</label>\r\n          <input type=\"text\" value={str} onChange={handleStr} placeholder=\"STR\"></input>\r\n        </div>\r\n        <div>\r\n          <label>END</label>\r\n          <input type=\"text\" value={end} onChange={handleEnd} placeholder=\"END\"></input>\r\n        </div>\r\n        <div>\r\n          <label>Mining</label>\r\n          <input type=\"text\" value={mining} onChange={handleMining} placeholder=\"Mining\"></input>\r\n        </div>\r\n        <div>\r\n          <label>Profession</label>\r\n          <select onChange={handleProfession}>\r\n            {['fishing', 'foraging', 'gardening', 'mining'].map(p => <option key={p} selected={profession === p}>{p}</option>)}\r\n          </select>\r\n        </div>\r\n        <div>\r\n          <label>Locked JEWEL</label>\r\n          <input type=\"text\" value={balance} onChange={handleBalance} placeholder=\"Locked JEWEL\"></input>\r\n        </div>\r\n      </form>\r\n      \r\n      <br/>\r\n      <br/>\r\n\r\n      Max JEWEL unlock rate: {calculateMaxJEWELUnlockRate()} JEWEL per tick \r\n    </div>\r\n  )\r\n}\r\n"],"sourceRoot":""}